<!DOCTYPE html>
<html lang="en-za">

<head>
<title>Login - Loudpack South Africa</title>
 

<meta charset="UTF-8" />
   

 <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="canonical" href="https://www.loudpack.co.za">
 

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>

 

<script>

//paste this code under the head tag or in a separate js file.
	// Wait for window load
	$(window).load(function() {
		// Animate loader off screen
		$(".se-pre-con").fadeOut("slow");;
	});
</script>

<style>

.no-js #loader { display: none;  }
.js #loader { display: block; position: absolute; left: 100px; top: 0; }
.se-pre-con {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	background: url(https://loudpack.co.za/wait.gif) center no-repeat #fff;
}
</style>


<div class="se-pre-con"></div>

  <!-- Start the login flow just by including this script tag! -->
  <script async="async" src="https://auth.magic.link/pnp/login"
    data-magic-publishable-api-key="pk_live_E545ACC978FA10EC"
    data-terms-of-service-uri="/terms"
  data-privacy-policy-uri="/privacy" 
    data-redirect-uri="/home">
  </script>


        if (window.location.pathname === "/index") {
          try {
            const result = await magic.oauth.getRedirectResult();
            const profile = JSON.stringify(result.oauth.userInfo, undefined, 2);

            html = `
                <h1>It Worked! ðŸŽ‰</h1>
                <h2>Your User Profile:</h2>
                <pre><code class="json tomorrow">${profile}</code></pre>
              `;
          } catch {
            window.location.href = window.location.origin;
          }
        } else {
          html = `
              <h2>Please sign up or log in</h2>
              <form onsubmit="handleLogin(event)">
                <button id="btn-send" class="google" type="submit">
                  <img src="./sign-in-with-google.svg" />
                </button>
              </form>
            `;
        }

        document.getElementById("app").innerHTML = html;
        document.querySelectorAll("pre code").forEach((block) => {
          hljs.highlightBlock(block);
        });
      };

      /**
       * Starts the OAuth 2.0 login flow.
       */
      const handleLogin = async (e) => {
        e.preventDefault();

        // Render a button "pending" state.
        const btnSend = document.getElementById("btn-send");
        btnSend.disabled = true;
        btnSend.innerText = "Logging in...";

        // Start the Google OAuth 2.0 flow!
        const didToken = await magic.oauth.loginWithRedirect({
          provider: "google",
          redirectURI: `${window.location.origin}/callback`
        });
      };
    </script>
  </head>
 

<body id="app" onload="render()">

<div class="se-pre-con"></div>

    <div id="login">Loading...</div>
  </body>


</div>
</body>
